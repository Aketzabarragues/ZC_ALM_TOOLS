<Window x:Class="ZC_ALM_TOOLS.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TIA Portal - Generador de procesos" Height="700" Width="1000" Background="#F0F0F0">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0" Margin="0,0,10,0">

            <TextBlock Text="1. Archivo de Configuración" FontWeight="Bold" Margin="0,0,0,5"/>
            <DockPanel Margin="0,0,0,15">
                <Button Content="..." Click="BtnBrowse_Click" DockPanel.Dock="Right" Width="30"/>
                <TextBox x:Name="TxtPath" IsReadOnly="True" VerticalContentAlignment="Center"/>
            </DockPanel>

            <TextBlock Text="2. Dispositivo Destino (PLC/HMI)" FontWeight="Bold" Margin="0,0,0,5"/>
            <DataGrid x:Name="DgDispositivos" Height="100" Margin="0,0,0,15"
                      AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                      SelectionMode="Single" Background="White" BorderBrush="#CCCCCC">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Nombre" Binding="{Binding Name}" Width="*"/>
                    <DataGridTextColumn Header="Tipo" Binding="{Binding Type}" Width="60"/>
                </DataGrid.Columns>

                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>
            </DataGrid>

            <TextBlock Text="3. Acciones a Realizar" FontWeight="Bold" Margin="0,0,0,5"/>
            <Border BorderBrush="Silver" BorderThickness="1" Padding="10" Background="White">
                <StackPanel>
                    <CheckBox x:Name="ChkCreateProcess" Content="Crear Estructura Proceso (Tags/FC)" IsChecked="True" Margin="0,5"/>
                    <CheckBox x:Name="ChkCreateParameters" Content="Crear/Actualizar Parámetros (DBs)" IsChecked="True" Margin="0,5"/>
                    <CheckBox x:Name="ChkCreateEtapas" Content="Generar Constantes de Etapas" Margin="0,5"/>
                </StackPanel>
            </Border>

            <Button x:Name="BtnGenerate" Content="GENERAR" 
                    Click="BtnGenerate_Click" Margin="0,20,0,0" Height="40" 
                    Background="#007ACC" Foreground="White" FontWeight="Bold"/>
        </StackPanel>

        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0" Text="3. Seleccionar Procesos del Excel" FontWeight="Bold" Margin="0,0,0,5"/>

            <DataGrid x:Name="DgProcesos" Grid.Row="1" AutoGenerateColumns="False" 
                  CanUserAddRows="False" IsReadOnly="True" SelectionMode="Single"
                  SelectionChanged="DgProcesos_SelectionChanged"
                  HeadersVisibility="Column" GridLinesVisibility="Horizontal"
                  Background="White" BorderBrush="#CCCCCC" BorderThickness="1" Margin="0,0,0,10">

                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Height" Value="30"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>

                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                    <DataGridTextColumn Header="Nombre Proceso" Binding="{Binding Nombre}" Width="150"/>
                    <DataGridTextColumn Header="Nº Etapas" Binding="{Binding NumEtapas}" Width="80"/>
                    <DataGridTextColumn Header="Max P.Real" Binding="{Binding MaxPReal}" Width="80"/>
                    <DataGridTextColumn Header="Max P.Int" Binding="{Binding MaxPInt}" Width="80"/>
                    <DataGridTextColumn Header="Alarmas" Binding="{Binding NumAlarmas}" Width="60"/>
                </DataGrid.Columns>
            </DataGrid>

            <TextBlock Grid.Row="2" Text="4. Parámetros Reales del Proceso Seleccionado" FontWeight="Bold" Margin="0,5,0,5"/>

            <TabControl Grid.Row="3" Background="White" BorderBrush="#CCCCCC">

                <TabItem Header="Parámetros Reales" FontWeight="Bold" Height="30" FontSize="12">
                    <Grid>
                        <DataGrid x:Name="DgParametros" AutoGenerateColumns="False" 
                                  CanUserAddRows="False" IsReadOnly="True"
                                  HeadersVisibility="Column" GridLinesVisibility="Horizontal"
                                  BorderThickness="0">
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="Height" Value="30"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    <Setter Property="Background" Value="#F9F9F9"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>

                            <DataGrid.Columns>
                                <DataGridTextColumn Header="UID" Binding="{Binding Uid}" Width="60"/>
                                <DataGridTextColumn Header="Nº" Binding="{Binding Numero}" Width="50"/>
                                <DataGridTextColumn Header="DB" Binding="{Binding DbNumber}" Width="50"/>
                                <DataGridTextColumn Header="Tipo" Binding="{Binding Tipo}" Width="80"/>
                                <DataGridTextColumn Header="Descripción" Binding="{Binding Descripcion}" Width="*"/>
                                <DataGridTextColumn Header="Visibilidad" Binding="{Binding Visibilidad}" Width="80"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </TabItem>


                <TabItem Header="Parámetros Enteros" FontWeight="Bold" Height="30" FontSize="12">
                    <Grid>
                        <DataGrid x:Name="DgPInt" AutoGenerateColumns="False" 
                                  CanUserAddRows="False" IsReadOnly="True"
                                  HeadersVisibility="Column" GridLinesVisibility="Horizontal"
                                  BorderThickness="0">

                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="Height" Value="30"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    <Setter Property="Background" Value="#F9F9F9"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>

                            <DataGrid.Columns>
                                <DataGridTextColumn Header="UID" Binding="{Binding Uid}" Width="60"/>
                                <DataGridTextColumn Header="Nombre" Binding="{Binding Nombre}" Width="150"/>
                                <DataGridTextColumn Header="Tipo" Binding="{Binding Tipo}" Width="80"/>
                                <DataGridTextColumn Header="V. Inicial" Binding="{Binding ValorInicial}" Width="80"/>
                                <DataGridTextColumn Header="Comentario" Binding="{Binding Comentario}" Width="*"/>
                                <DataGridTextColumn Header="HMI" Binding="{Binding HmiVisible}" Width="50"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </TabItem>
                
                <TabItem Header="Otra Tabla (Ejemplo)" FontWeight="Bold" Height="30" FontSize="12">
                    <Grid Background="#F5F5F5">
                        <TextBlock Text="Aquí irá la siguiente tabla..." 
                                   HorizontalAlignment="Center" VerticalAlignment="Center" 
                                   Foreground="Gray"/>
                    </Grid>
                </TabItem>

            </TabControl>

        </Grid>
    </Grid>
</Window>